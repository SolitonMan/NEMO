{% extends "base.html" %}
{% block content %}
<h2>Multi-Calendar Viewer</h2>
<form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="btn btn-primary">Load Calendars</button>
</form>

{% if errors %}
    <div class="alert alert-danger">
        <ul>
        {% for error in errors %}
            <li>{{ error }}</li>
        {% endfor %}
        </ul>
    </div>
{% endif %}

{% if events %}
    <h3>Events</h3>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Source</th>
                <th>Title</th>
                <th>Start</th>
                <th>End</th>
                <th>Location</th>
            </tr>
        </thead>
        <tbody>
        {% for event in events %}
            <tr>
                <td>{{ event.source }}</td>
                <td>{{ event.title }}</td>
                <td>{{ event.start }}</td>
                <td>{{ event.end }}</td>
                <td>{{ event.location }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endif %}
{% endblock %}